[env:esp32dev]
platform = https://github.com/platformio/platform-espressif32.git#feature/arduino-upstream
platform_packages = platformio/framework-arduinoespressif32 @ https://github.com/espressif/arduino-esp32.git
board = esp32dev
framework = arduino
board_build.mcu = esp32s2
board_build.f_cpu = 80000000L
lib_deps =
    NeoPixelBus
    nawotech/timer @ ^1.0.1
    nawotech/button @ 1.0.0
    https://github.com/cammiboi/KXTJ3-1057.git#misc-improvements

[env:test]
platform = native
build_flags = 
    -std=gnu++11
lib_extra_dirs =
    ./test/mocks
lib_deps = 
    ArduinoFake
src_filter =
    +<>
    -<../lib/analog>
debug_test = test_main